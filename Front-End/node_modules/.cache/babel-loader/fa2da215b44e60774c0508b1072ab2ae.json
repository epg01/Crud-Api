{"ast":null,"code":"var _jsxFileName = \"/home/sixtan/work/src/PruebaTecnica/react1/src/components/SongSearch.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport SongDetail from \"./SongDetail\";\nimport SongForm from \"./SongForm\";\nimport Loader from \"./Loader\";\nimport { helpHttp } from \"../helper/helpHttp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SongSearch = () => {\n  _s();\n\n  const [search, setSearch] = useState(null);\n  const [lyric, setLyric] = useState(null);\n  const [bio, setBio] = useState(null);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (search === null) return;\n\n    const fetchData = async () => {\n      const {\n        artist,\n        song\n      } = search;\n      let artistUrl = `https://theaudiodb.com/api/v1/json/1/search.php?s=${artist}`;\n      let songUrl = `https://api.lyrics.ovh/v1/${artist}/${song}`; //console.log(artistUrl, songUrl);\n\n      setLoading(true);\n      const [artistRes, songRes] = await Promise.all([helpHttp().get(artistUrl), helpHttp().get(songUrl)]); //console.log(artistRes, songRes);\n\n      setBio(artistRes);\n      setLyric(songRes);\n      setLoading(false);\n    };\n\n    fetchData();\n  }, [search]);\n\n  const handleSearch = data => {\n    //console.log(data);\n    setSearch(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Song search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"grid-1-3\",\n      children: [loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(SongForm, {\n        handleSearch: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), search && !loading && /*#__PURE__*/_jsxDEV(SongDetail, {\n        search: search,\n        lyric: lyric,\n        bio: bio\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SongSearch, \"4MJKeKGXpnfOjgLe6c4Idb6oIWA=\");\n\n_c = SongSearch;\nexport default SongSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"SongSearch\");","map":{"version":3,"sources":["/home/sixtan/work/src/PruebaTecnica/react1/src/components/SongSearch.js"],"names":["React","useState","useEffect","SongDetail","SongForm","Loader","helpHttp","SongSearch","search","setSearch","lyric","setLyric","bio","setBio","loading","setLoading","fetchData","artist","song","artistUrl","songUrl","artistRes","songRes","Promise","all","get","handleSearch","data"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,QAAT,QAAyB,oBAAzB;;;AAEA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AACvB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,IAAD,CAApC;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACW,GAAD,EAAMC,MAAN,IAAgBZ,QAAQ,CAAC,IAAD,CAA9B;AACA,QAAM,CAACa,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,KAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIM,MAAM,KAAK,IAAf,EAAqB;;AAErB,UAAMQ,SAAS,GAAG,YAAY;AAC5B,YAAM;AAAEC,QAAAA,MAAF;AAAUC,QAAAA;AAAV,UAAmBV,MAAzB;AACA,UAAIW,SAAS,GAAI,qDAAoDF,MAAO,EAA5E;AACA,UAAIG,OAAO,GAAI,6BAA4BH,MAAO,IAAGC,IAAK,EAA1D,CAH4B,CAI5B;;AAEAH,MAAAA,UAAU,CAAC,IAAD,CAAV;AAEA,YAAM,CAACM,SAAD,EAAYC,OAAZ,IAAuB,MAAMC,OAAO,CAACC,GAAR,CAAY,CAC7ClB,QAAQ,GAAGmB,GAAX,CAAeN,SAAf,CAD6C,EAE7Cb,QAAQ,GAAGmB,GAAX,CAAeL,OAAf,CAF6C,CAAZ,CAAnC,CAR4B,CAa5B;;AAEAP,MAAAA,MAAM,CAACQ,SAAD,CAAN;AACAV,MAAAA,QAAQ,CAACW,OAAD,CAAR;AAEAP,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAnBD;;AAoBAC,IAAAA,SAAS;AACV,GAxBQ,EAwBN,CAACR,MAAD,CAxBM,CAAT;;AA0BA,QAAMkB,YAAY,GAAIC,IAAD,IAAU;AAC7B;AACAlB,IAAAA,SAAS,CAACkB,IAAD,CAAT;AACD,GAHD;;AAKA,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAS,MAAA,SAAS,EAAC,UAAnB;AAAA,iBACGb,OAAO,iBAAI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADd,eAEE,QAAC,QAAD;AAAU,QAAA,YAAY,EAAEY;AAAxB;AAAA;AAAA;AAAA;AAAA,cAFF,EAGGlB,MAAM,IAAI,CAACM,OAAX,iBACC,QAAC,UAAD;AAAY,QAAA,MAAM,EAAEN,MAApB;AAA4B,QAAA,KAAK,EAAEE,KAAnC;AAA0C,QAAA,GAAG,EAAEE;AAA/C;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAYD,CAjDD;;GAAML,U;;KAAAA,U;AAmDN,eAAeA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport SongDetail from \"./SongDetail\";\nimport SongForm from \"./SongForm\";\nimport Loader from \"./Loader\";\nimport { helpHttp } from \"../helper/helpHttp\";\n\nconst SongSearch = () => {\n  const [search, setSearch] = useState(null);\n  const [lyric, setLyric] = useState(null);\n  const [bio, setBio] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (search === null) return;\n\n    const fetchData = async () => {\n      const { artist, song } = search;\n      let artistUrl = `https://theaudiodb.com/api/v1/json/1/search.php?s=${artist}`;\n      let songUrl = `https://api.lyrics.ovh/v1/${artist}/${song}`;\n      //console.log(artistUrl, songUrl);\n\n      setLoading(true);\n\n      const [artistRes, songRes] = await Promise.all([\n        helpHttp().get(artistUrl),\n        helpHttp().get(songUrl),\n      ]);\n\n      //console.log(artistRes, songRes);\n\n      setBio(artistRes);\n      setLyric(songRes);\n\n      setLoading(false);\n    };\n    fetchData();\n  }, [search]);\n\n  const handleSearch = (data) => {\n    //console.log(data);\n    setSearch(data);\n  };\n\n  return (\n    <div>\n      <h2>Song search</h2>\n      <article className=\"grid-1-3\">\n        {loading && <Loader />}\n        <SongForm handleSearch={handleSearch} />\n        {search && !loading && (\n          <SongDetail search={search} lyric={lyric} bio={bio} />\n        )}\n      </article>\n    </div>\n  );\n};\n\nexport default SongSearch;\n"]},"metadata":{},"sourceType":"module"}